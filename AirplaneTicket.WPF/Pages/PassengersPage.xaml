<Page x:Class="AirplaneTicket.WPF.Pages.PassengersPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
      Title="Passengers"
      Background="{DynamicResource MaterialDesignPaper}"
      TextElement.Foreground="{DynamicResource MaterialDesignBody}"
      TextElement.FontWeight="Medium"
      TextElement.FontSize="14"
      FontFamily="{materialDesign:MaterialDesignFont}">
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Search and Add Controls -->
        <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,20">
            <TextBox x:Name="txtSearch" Width="200" Margin="0,0,10,0" 
                     TextChanged="txtSearch_TextChanged"
                     materialDesign:HintAssist.Hint="Search passengers..."
                     Style="{StaticResource MaterialDesignOutlinedTextBox}"/>
            
            <Button x:Name="btnAddPassenger" 
                    Click="btnAddPassenger_Click" 
                    Style="{StaticResource MaterialDesignRaisedButton}"
                    Margin="0,0,10,0">
                <StackPanel Orientation="Horizontal">
                    <materialDesign:PackIcon Kind="AccountPlus" Margin="0,0,8,0"/>
                    <TextBlock Text="Add Passenger"/>
                </StackPanel>
            </Button>
            
            <Button x:Name="btnRefresh" 
                    Click="btnRefresh_Click" 
                    Style="{StaticResource MaterialDesignOutlinedButton}">
                <StackPanel Orientation="Horizontal">
                    <materialDesign:PackIcon Kind="Refresh" Margin="0,0,8,0"/>
                    <TextBlock Text="Refresh"/>
                </StackPanel>
            </Button>
        </StackPanel>

        <!-- Passengers DataGrid -->
        <DataGrid x:Name="dgPassengers" Grid.Row="1" 
                  AutoGenerateColumns="False" 
                  IsReadOnly="True" 
                  SelectionMode="Single"
                  SelectionChanged="dgPassengers_SelectionChanged"
                  Style="{StaticResource MaterialDesignDataGrid}"
                  materialDesign:DataGridAssist.CellPadding="13 8 8 8"
                  materialDesign:DataGridAssist.ColumnHeaderPadding="8">
            <DataGrid.Columns>
                <DataGridTextColumn Header="First Name" Binding="{Binding FirstName}"/>
                <DataGridTextColumn Header="Last Name" Binding="{Binding LastName}"/>
                <DataGridTextColumn Header="Email" Binding="{Binding Email}"/>
                <DataGridTextColumn Header="Phone" Binding="{Binding PhoneNumber}"/>
                <DataGridTextColumn Header="Date of Birth" Binding="{Binding DateOfBirth, StringFormat=d}"/>
                <DataGridTextColumn Header="Passport #" Binding="{Binding PassportNumber}"/>
                <DataGridTemplateColumn Header="Actions">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Horizontal">
                                <Button Style="{StaticResource MaterialDesignIconButton}"
                                        Click="btnEdit_Click"
                                        ToolTip="Edit Passenger">
                                    <materialDesign:PackIcon Kind="Pencil"/>
                                </Button>
                                <Button Style="{StaticResource MaterialDesignIconButton}"
                                        Click="btnDelete_Click"
                                        ToolTip="Delete Passenger">
                                    <materialDesign:PackIcon Kind="Delete"/>
                                </Button>
                            </StackPanel>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
            </DataGrid.Columns>
        </DataGrid>
    </Grid>
</Page> 